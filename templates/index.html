<!DOCTYPE html>
<html>
<head>
    <title>Pavdav College</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<nav>
    <a href="/">Home</a>
    <a href="/about">About</a>
    <a href="/contact">Contact</a>
</nav>

<div class="hero">
    <h1>Welcome to Pavdav College</h1>
    <p>Excellence in education and innovation</p>

    <img src="{{ url_for('static', filename='images/lucas-law-ecELcxmJTk4-unsplash.jpg') }}" alt="College Image">
</div>

<div class="container">
    <h2>About Our College</h2>
    <p>
        Pavdav College is committed to providing quality education,
        modern facilities, and a supportive learning environment
        for students to achieve excellence.
    </p>
</div>

<footer>
    ¬© 2026 Pavdav College. All rights reserved.
</footer>

<!-- CHATBOT -->
<div style="
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 320px;
    background: white;
    border: 1px solid #ccc;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0,0,0,0.2);
    font-family: Arial;
">
    <div style="background:#003366;color:white;padding:10px;">
        Pavdav College Chatbot
    </div>

    <div id="chatBox" style="height:220px;overflow-y:auto;padding:10px;">
        <p><b>Bot:</b> üëã Hello! Welcome to Pavdav College.<br><br>
        I can help you with:
        <br>‚Ä¢ Admission process
        <br>‚Ä¢ Fees structure
        <br>‚Ä¢ Polytechnic branches
        <br>‚Ä¢ Seat availability
        <br><br>
        Try typing: <b>admission</b>, <b>fees</b>, <b>branches</b>, or <b>seats</b>.
        </p>
    </div>

    <div style="display:flex;">
        <input type="text" id="userInput" placeholder="Type message..."
               style="flex:1;padding:8px;border:none;border-top:1px solid #ccc;">
        <button onclick="sendMessage()"
                style="padding:8px;background:#003366;color:white;border:none;">
            Send
        </button>
    </div>
</div>

<script>
function sendMessage() {
    let input = document.getElementById("userInput");
    let message = input.value.trim();

    if (message === "") return;

    let chatBox = document.getElementById("chatBox");
    chatBox.innerHTML += "<p><b>You:</b> " + message + "</p>";

    fetch("/chat", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({ message: message })
    })
    .then(res => res.json())
    .then(data => {
        chatBox.innerHTML += "<p><b>Bot:</b> " + data.reply + "</p>";
        chatBox.scrollTop = chatBox.scrollHeight;
    })
    .catch(() => {
        chatBox.innerHTML += "<p><b>Bot:</b> Server error ‚ùå</p>";
    });

    input.value = "";
}
</script>

</body>
</html>
