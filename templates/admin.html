<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Dashboard | Pandav College</title>
<style>
body{
    font-family: 'Segoe UI', sans-serif;
    margin:0;
    background:#f4f7fb;
}

/* NAVBAR */
nav{
    background:#4364f7;
    color:white;
    padding:15px;
    text-align:center;
    font-weight:bold;
}

/* CONTAINER */
.container{
    max-width:1200px;
    margin:30px auto;
    padding:0 20px;
}

/* CARD */
.card{
    background:white;
    padding:25px;
    border-radius:12px;
    box-shadow:0 10px 25px rgba(0,0,0,0.1);
    margin-bottom:30px;
}

.card h2{
    color:#2c3e50;
    border-left:5px solid #4364f7;
    padding-left:12px;
    margin-bottom:20px;
}

/* TABLE */
table{
    width:100%;
    border-collapse:collapse;
}

th, td{
    padding:12px;
    border-bottom:1px solid #ddd;
    text-align:left;
}

thead{
    background: linear-gradient(90deg,#4364f7,#6fb1fc);
    color:white;
}

tbody tr:hover{
    background:#f1f5ff;
}

.empty{
    text-align:center;
    color:#777;
}

/* FORM */
form input, form textarea{
    width:100%;
    padding:8px;
    margin:5px 0 12px 0;
    border-radius:5px;
    border:1px solid #ccc;
}

form button{
    padding:8px 16px;
    border:none;
    border-radius:5px;
    background:#4364f7;
    color:white;
    cursor:pointer;
}

form button.delete{
    background:red;
}

/* RESPONSIVE */
@media(max-width:768px){
    h1{font-size:26px;}
    table{font-size:14px;}
}
</style>
</head>
<body>

<!-- NAVBAR -->
<nav>
Admin Dashboard | Pandav College
</nav>

<div class="container">

<h1>Welcome, Admin</h1>

<!-- CONTACT MESSAGES -->
<div class="card">
<h2>Contact Messages</h2>
<table>
<thead>
<tr>
<th>ID</th>
<th>Name</th>
<th>Email</th>
<th>Message</th>
</tr>
</thead>
<tbody>
{% for c in contacts %}
<tr>
<td>{{ c[0] }}</td>
<td>{{ c[1] }}</td>
<td>{{ c[2] }}</td>
<td>{{ c[3] }}</td>
</tr>
{% else %}
<tr><td colspan="4" class="empty">No contact messages</td></tr>
{% endfor %}
</tbody>
</table>
</div>

<!-- CHAT HISTORY -->
<div class="card">
<h2>Chat History</h2>
<table>
<thead>
<tr>
<th>ID</th>
<th>Question</th>
<th>Answer</th>
</tr>
</thead>
<tbody>
{% for ch in chats %}
<tr>
<td>{{ ch[0] }}</td>
<td>{{ ch[1] }}</td>
<td>{{ ch[2] }}</td>
</tr>
{% else %}
<tr><td colspan="3" class="empty">No chat history</td></tr>
{% endfor %}
</tbody>
</table>
</div>

<!-- ADMISSION ENQUIRIES -->
<div class="card">
<h2>Admission Enquiries</h2>
<table>
<thead>
<tr>
<th>ID</th>
<th>Name</th>
<th>Email</th>
<th>Phone</th>
<th>Branch</th>
<th>Percentage</th>
<th>Address</th>
</tr>
</thead>
<tbody>
{% for a in admissions %}
<tr>
<td>{{ a[0] }}</td>
<td>{{ a[1] }}</td>
<td>{{ a[2] }}</td>
<td>{{ a[3] }}</td>
<td>{{ a[4] }}</td>
<td>{{ a[5] }}</td>
<td>{{ a[6] }}</td>
</tr>
{% else %}
<tr><td colspan="7" class="empty">No admission enquiries</td></tr>
{% endfor %}
</tbody>
</table>
</div>

<!-- FAQ MANAGEMENT -->
<div class="card">
<h2>FAQ Management</h2>

<!-- ADD NEW FAQ -->
<form method="POST" action="/admin-faq">
<label>Question:</label>
<input type="text" name="question" required placeholder="Enter question">
<label>Answer:</label>
<textarea name="answer" rows="4" required placeholder="Enter answer"></textarea>
<button type="submit">Add FAQ</button>
</form>

<!-- EXISTING FAQ -->
<table style="margin-top:20px;">
<thead>
<tr>
<th>ID</th>
<th>Question</th>
<th>Answer</th>
<th>Action</th>
</tr>
</thead>
<tbody>
{% for f in faqs %}
<tr>
<td>{{ f[0] }}</td>
<td>{{ f[1] }}</td>
<td>{{ f[2] }}</td>
<td>
<form method="POST" action="/admin-faq" style="display:inline;">
<input type="hidden" name="action" value="delete">
<input type="hidden" name="faq_id" value="{{ f[0] }}">
<button class="delete">Delete</button>
</form>
</td>
</tr>
{% else %}
<tr><td colspan="4" class="empty">No FAQs found</td></tr>
{% endfor %}
</tbody>
</table>
</div>

</div>

</body>
</html>
