<!DOCTYPE html>
<html>
<head>
    <title>Pandav College Chatbot</title>
    <style>
        body{
            font-family: Arial, sans-serif;
            background:#f4f6f8;
        }
        .chat-container{
            width:60%;
            margin:40px auto;
            background:white;
            border-radius:8px;
            box-shadow:0 0 10px rgba(0,0,0,0.1);
            overflow:hidden;
        }
        .chat-header{
            background:#007bff;
            color:white;
            padding:15px;
            text-align:center;
            font-size:18px;
        }
        .chat-body{
            padding:20px;
            height:400px;
            overflow-y:auto;
        }
        .msg{
            margin-bottom:15px;
            max-width:75%;
            padding:10px 15px;
            border-radius:10px;
            font-size:15px;
            line-height:1.4;
        }
        .user{
            background:#dcf8c6;
            margin-left:auto;
            text-align:right;
        }
        .bot{
            background:#f1f0f0;
            margin-right:auto;
        }
        .options{
            padding:15px;
            border-top:1px solid #ddd;
            background:#fafafa;
        }
        .options button{
            margin:5px;
            padding:8px 12px;
            border:none;
            border-radius:5px;
            background:#007bff;
            color:white;
            cursor:pointer;
            font-size:14px;
        }
        .options button:hover{
            background:#0056b3;
        }
    </style>
</head>
<body>

<div class="chat-container">
    <div class="chat-header">
        ðŸ’¬ Pandav College Chatbot
    </div>

    <div class="chat-body" id="chatBody">
        <div class="msg bot">
            Hello ðŸ‘‹<br>
            Please select a question below to get information.
        </div>
    </div>

    <div class="options">
        {% for q in faq.keys() %}
            <button onclick="sendQuestion('{{ q }}')">{{ q }}</button>
        {% endfor %}
    </div>
</div>

<script>
function sendQuestion(question){
    let chat = document.getElementById("chatBody");

    // User message
    let userMsg = document.createElement("div");
    userMsg.className = "msg user";
    userMsg.innerText = question;
    chat.appendChild(userMsg);

    fetch("/get-answer",{
        method:"POST",
        headers:{
            "Content-Type":"application/x-www-form-urlencoded"
        },
        body:"question=" + encodeURIComponent(question)
    })
    .then(res => res.json())
    .then(data => {
        let botMsg = document.createElement("div");
        botMsg.className = "msg bot";
        botMsg.innerText = data.answer;
        chat.appendChild(botMsg);
        chat.scrollTop = chat.scrollHeight;
    });
}
</script>

</body>
</html>
